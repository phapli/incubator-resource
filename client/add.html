<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta charset="utf-8" />
  <title>Incubator Resource</title>

  <link rel="shortcut icon" href="image/favicon.ico">

  <meta name="description" content="Common form elements and layouts" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

  <!-- bootstrap & fontawesome -->
  <link rel="stylesheet" href="assets/css/bootstrap.css" />
  <link rel="stylesheet" href="components/font-awesome/css/font-awesome.css" />
  <link rel="stylesheet" href="components/chosen/chosen.css" />

  <!-- page specific plugin styles -->

  <!-- text fonts -->
  <link rel="stylesheet" href="assets/css/ace-fonts.css" />

  <!-- ace styles -->
  <link rel="stylesheet" href="assets/css/ace.css" class="ace-main-stylesheet" id="main-ace-style" />

  <!--[if lte IE 9]>
			<link rel="stylesheet" href="assets/css/ace-part2.css" class="ace-main-stylesheet" />
		<![endif]-->
  <link rel="stylesheet" href="assets/css/ace-skins.css" />
  <link rel="stylesheet" href="assets/css/ace-rtl.css" />

  <!--[if lte IE 9]>
		  <link rel="stylesheet" href="assets/css/ace-ie.css" />
		<![endif]-->

  <!-- inline styles related to this page -->

  <!-- ace settings handler -->
  <script src="assets/js/ace-extra.js"></script>

  <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

  <!--[if lte IE 8]>
		<script src="components/html5shiv/dist/html5shiv.min.js"></script>
		<script src="components/respond/dest/respond.min.js"></script>
		<![endif]-->
</head>

<body class="no-skin">
  <!-- #section:basics/navbar.layout -->
  <div id="navbar" class="navbar navbar-default          ace-save-state">
    <div class="navbar-container ace-save-state" id="navbar-container">
      <!-- #section:basics/sidebar.mobile.toggle -->
      <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler" data-target="#sidebar">
					<span class="sr-only">Toggle sidebar</span>

					<span class="icon-bar"></span>

					<span class="icon-bar"></span>

					<span class="icon-bar"></span>
				</button>

      <!-- /section:basics/sidebar.mobile.toggle -->
      <div class="navbar-header pull-left">
        <!-- #section:basics/navbar.layout.brand -->
        <a href="#" class="navbar-brand">
          <small>
							<i class="fa fa-leaf"></i>
							Ace Admin
						</small>
        </a>

        <!-- /section:basics/navbar.layout.brand -->

        <!-- #section:basics/navbar.toggle -->

        <!-- /section:basics/navbar.toggle -->
      </div>

      <!-- #section:basics/navbar.dropdown -->


      <!-- /section:basics/navbar.dropdown -->
    </div>
    <!-- /.navbar-container -->
  </div>

  <!-- /section:basics/navbar.layout -->
  <div class="main-container ace-save-state" id="main-container">
    <script type="text/javascript">
      try {
        ace.settings.loadState('main-container')
      } catch (e) {}

    </script>

    <!-- #section:basics/sidebar -->
    <div id="sidebar" class="sidebar                  responsive                    ace-save-state">
      <script type="text/javascript">
        try {
          ace.settings.loadState('sidebar')
        } catch (e) {}

      </script>

      <ul class="nav nav-list">
        <li class="">
          <a href="/">
            <i class="menu-icon fa fa-home"></i>
            <span class="menu-text"> Home </span>
          </a>

        </li>

        <li class="">
          <a href="#" class="dropdown-toggle">
            <i class="menu-icon fa fa-database"></i>
            <span class="menu-text"> Manage Resource </span>

            <b class="arrow fa fa-angle-down"></b>
          </a>

          <b class="arrow"></b>

          <ul class="submenu">

            <li class="">
              <a href="/resource">
                <i class="menu-icon fa fa-caret-right"></i> Owner Resource
              </a>

              <b class="arrow"></b>
            </li>

            <li class="">
              <a href="/add">
                <i class="menu-icon fa fa-caret-right"></i> Add Resource
              </a>

              <b class="arrow"></b>
            </li>
          </ul>
        </li>

        <li class="">
          <a href="/request">
            <i class="menu-icon fa fa-history"></i>
            <span class="menu-text"> Requests </span>

          </a>
        </li>

      </ul>
      <!-- /.nav-list -->

      <!-- #section:basics/sidebar.layout.minimize -->
      <div class="sidebar-toggle sidebar-collapse" id="sidebar-collapse">
        <i id="sidebar-toggle-icon" class="ace-icon fa fa-angle-double-left ace-save-state" data-icon1="ace-icon fa fa-angle-double-left"
          data-icon2="ace-icon fa fa-angle-double-right"></i>
      </div>

      <!-- /section:basics/sidebar.layout.minimize -->
    </div>

    <!-- /section:basics/sidebar -->
    <div class="main-content">
      <div class="main-content-inner">
        <!-- #section:basics/content.breadcrumbs -->
        <div class="breadcrumbs ace-save-state" id="breadcrumbs">
          <ul class="breadcrumb">
            <li>
              <i class="ace-icon fa fa-home home-icon"></i>
              <a href="/">Home</a>
            </li>

            <li>
              Add Resource
            </li>
          </ul>
          <!-- /.breadcrumb -->

          <!-- /section:basics/content.searchbox -->
        </div>

        <!-- /section:basics/content.breadcrumbs -->
        <div class="page-content">
          <!-- #section:settings.box -->
          <!-- /.ace-settings-container -->

          <!-- /section:settings.box -->
          <div class="page-header">
            <h1>
              Resource
              <small>
									<i class="ace-icon fa fa-angle-double-right"></i>
									Input information
								</small>
            </h1>
          </div>
          <!-- /.page-header -->

          <div class="row">
            <div class="col-xs-12">
              <!-- PAGE CONTENT BEGINS -->
              <form class="form-horizontal" role="form">
                <!-- #section:elements.form -->
                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-name"> Name </label>

                  <div class="col-sm-9">
                    <input type="text" id="form-field-name" placeholder="Name" class="col-xs-10 col-sm-5" />
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-description"> Description </label>

                  <div class="col-sm-9">
                    <textarea type="text" id="form-field-description" placeholder="Description" rows="6" class="col-xs-10 col-sm-5"></textarea>
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-time"> Available Time </label>

                  <div class="col-sm-9">
                    <textarea type="text" id="form-field-time" placeholder="Available Time" rows="2" class="col-xs-10 col-sm-5"></textarea>
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-price"> Price </label>

                  <div class="col-sm-9">
                    <textarea type="text" id="form-field-price" placeholder="Price for share. Ex: 100.000 VND/day" rows="2" class="col-xs-10 col-sm-5"></textarea>
                  </div>
                </div>

                <!-- /section:elements.form -->
                <div class="space-4"></div>

                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-type"> Type </label>

                  <div class="col-sm-9">
                    <select class="chosen-select col-xs-10 col-sm-5" id="form-field-type" data-placeholder="Choose a Type...">
                        <option value="">  </option>
                        <option value="Electronic">Electronic</option>
                        <option value="Mechanical">Mechanical</option>
                        <option value="ExemplarAZ">Exemplar</option>
                        <option value="Design">Design</option>
                        <option value="Service">Service</option>
                        <option value="Other">Other</option>
                    </select>
                  </div>
                </div>

                <div class="space-4"></div>

                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-note"> Note </label>

                  <div class="col-sm-9">
                    <textarea type="text" id="form-field-note" placeholder="Note" rows="4" class="col-xs-10 col-sm-5"></textarea>
                  </div>
                </div>

                <div class="space-4"></div>

                <div class="form-group">
                  <label class="col-sm-3 control-label no-padding-right" for="form-field-tags">Tags</label>

                  <div class="col-sm-9">
                    <!-- #section:plugins/input.tag-input -->
                    <div class="inline">
                      <input type="text" name="tags" id="form-field-tags" placeholder="Enter tags ..." />
                    </div>

                    <!-- /section:plugins/input.tag-input -->
                  </div>
                </div>

                <div class="clearfix form-actions">
                  <div class="col-md-offset-3 col-md-9">
                    <button class="btn btn-info" type="button" id="form-button-submit">
												<i class="ace-icon fa fa-check bigger-110"></i>
												Submit
											</button> &nbsp; &nbsp; &nbsp;
                    <button class="btn" type="reset" id="form-button-reset">
												<i class="ace-icon fa fa-undo bigger-110"></i>
												Reset
											</button>
                  </div>
                </div>

            </div>
            <!-- /.col -->
          </div>
          <!-- /.row -->
        </div>
        <!-- /.page-content -->
      </div>
    </div>
    <!-- /.main-content -->

    <div class="footer">
      <div class="footer-inner">
        <!-- #section:basics/footer -->
        <div class="footer-content">
          <span class="bigger-120">
							<span class="blue bolder">Giao Thoa Tech</span> &copy; 2017
          </span>

          &nbsp; &nbsp;
          <span class="action-buttons">
							<a href="http://giaothoatech.com/">
								<i class="ace-icon fa fa-globe light-blue bigger-150"></i>
							</a>

							<a href="https://www.facebook.com/giaothoatech/">
								<i class="ace-icon fa fa-facebook-square text-primary bigger-150"></i>
							</a>

						</span>
        </div>

        <!-- /section:basics/footer -->
      </div>
    </div>

    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
      <i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
    </a>
  </div>
  <!-- /.main-container -->

  <!-- basic scripts -->

  <!--[if !IE]> -->
  <script src="components/jquery/dist/jquery.js"></script>

  <!-- <![endif]-->

  <!--[if IE]>
<script src="components/jquery.1x/dist/jquery.js"></script>
<![endif]-->
  <script type="text/javascript">
    if ('ontouchstart' in document.documentElement) document.write(
      "<script src='components/_mod/jquery.mobile.custom/jquery.mobile.custom.js'>" + "<" + "/script>");

  </script>
  <script src="components/bootstrap/dist/js/bootstrap.js"></script>
  <script src="components/chosen/chosen.jquery.js"></script>

  <!-- page specific plugin scripts -->

  <!--[if lte IE 8]>
		  <script src="components/ExplorerCanvas/excanvas.js"></script>
		<![endif]-->
  <script src="components/_mod/jquery-ui.custom/jquery-ui.custom.js"></script>
  <script src="components/_mod/bootstrap-tag/bootstrap-tag.js"></script>

  <!-- ace scripts -->
  <script src="assets/js/src/elements.scroller.js"></script>
  <script src="assets/js/src/elements.colorpicker.js"></script>
  <script src="assets/js/src/elements.fileinput.js"></script>
  <script src="assets/js/src/elements.typeahead.js"></script>
  <script src="assets/js/src/elements.wysiwyg.js"></script>
  <script src="assets/js/src/elements.spinner.js"></script>
  <script src="assets/js/src/elements.treeview.js"></script>
  <script src="assets/js/src/elements.wizard.js"></script>
  <script src="assets/js/src/elements.aside.js"></script>
  <script src="assets/js/src/ace.js"></script>
  <script src="assets/js/src/ace.basics.js"></script>
  <script src="assets/js/src/ace.scrolltop.js"></script>
  <script src="assets/js/src/ace.ajax-content.js"></script>
  <script src="assets/js/src/ace.touch-drag.js"></script>
  <script src="assets/js/src/ace.sidebar.js"></script>
  <script src="assets/js/src/ace.sidebar-scroll-1.js"></script>
  <script src="assets/js/src/ace.submenu-hover.js"></script>
  <script src="assets/js/src/ace.widget-box.js"></script>
  <script src="assets/js/src/ace.settings.js"></script>
  <script src="assets/js/src/ace.settings-rtl.js"></script>
  <script src="assets/js/src/ace.settings-skin.js"></script>
  <script src="assets/js/src/ace.widget-on-reload.js"></script>
  <script src="assets/js/src/ace.searchbox-autocomplete.js"></script>

  <!-- inline scripts related to this page -->
  <script type="text/javascript">
    jQuery(function ($) {
      var name_input = $('#form-field-name');
      var description_input = $('#form-field-description');
      var time_input = $('#form-field-time');
      var price_input = $('#form-field-price');
      var type_input = $('#form-field-type');
      var note_input = $('#form-field-note');
      var tag_input = $('#form-field-tags');
      try {
        tag_input.tag({
          placeholder: tag_input.attr('placeholder'),
          //enable typeahead by specifying the source array
          // source: ace.vars['US_STATES'], //defined in ace.js >> ace.enable_search_ahead
          /**
          //or fetch data from database, fetch those that match "query"
          source: function(query, process) {
            $.ajax({url: 'remote_source.php?q='+encodeURIComponent(query)})
            .done(function(result_items){
          	process(result_items);
            });
          }
          */
        })

        //programmatically add/remove a tag
        // var $tag_obj = $('#form-field-tags').data('tag');
        // $tag_obj.add('Programmatically Added');

        // var index = $tag_obj.inValues('some tag');
        // $tag_obj.remove(index);
      } catch (e) {
        //display a textarea for old IE, because it doesn't support this plugin or another one I tried!
        tag_input.after('<textarea id="' + tag_input.attr('id') + '" name="' + tag_input.attr('name') +
          '" rows="3">' + tag_input.val() + '</textarea>').remove();
        //autosize($('#form-field-tags'));
      }

      if (!ace.vars['touch']) {
        $('.chosen-select').chosen({
          allow_single_deselect: true
        });
        //resize the chosen on window resize

        $(document).on('settings.ace.chosen', function (e, event_name, event_val) {
          if (event_name != 'sidebar_collapsed') return;
          $('.chosen-select').each(function () {
            var $this = $(this);
            $this.next().css({
              'width': $this.parent().width()
            });
          })
        });
      }

      $('#form-button-submit').click(function () {
        console.log("Submit");
        var tag_data = tag_input.val().split(",")
          .map(function (ele) {
            return ele.trim();
          })
          .filter(function (ele) {
            return ele != ""
          });
        var data = {
          name: name_input.val(),
          description: description_input.val(),
          time: time_input.val(),
          price: price_input.val(),
          type: type_input.val(),
          note: note_input.val(),
          tag: tag_data,
        };
        console.log(JSON.stringify(tag_data));
        console.log(JSON.stringify(data));

        $.post("/api/Resource", data, function (data, status) {
          alert("Data: " + data + "\nStatus: " + status);
        });
        
      });

      $('#form-button-reset').click(function () {
        console.log("Reset");
        name_input.val("");
        description_input.val("");
        time_input.val("");
        price_input.val("");
        type_input.val("");
        note_input.val("");
        tag_input.val().split(",").map(function (ele) {
          return ele.trim();
        }).filter(function (ele) {
          return ele != ""
        }).forEach(function (element) {
          var $tag_obj = tag_input.data('tag');
          var index = $tag_obj.inValues(element);
          $tag_obj.remove(index);
        });
      });

    });

  </script>

</body>

</html>
