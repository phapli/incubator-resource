<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <title>Incubator Resource</title>

    <link rel="shortcut icon" href="image/favicon.ico">

    <meta name="description" content="User login page"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>

    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="assets/css/bootstrap.css"/>
    <link rel="stylesheet" href="components/font-awesome/css/font-awesome.css"/>

    <!-- text fonts -->
    <link rel="stylesheet" href="assets/css/ace-fonts.css"/>

    <!-- ace styles -->
    <link rel="stylesheet" href="assets/css/ace.css"/>

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="assets/css/ace-part2.css"/>
    <![endif]-->
    <link rel="stylesheet" href="assets/css/ace-rtl.css"/>

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="assets/css/ace-ie.css"/>
    <![endif]-->

    <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

    <!--[if lte IE 8]>
    <script src="components/html5shiv/dist/html5shiv.min.js"></script>
    <script src="components/respond/dest/respond.min.js"></script>
    <![endif]-->
</head>

<body class="login-layout light-login">
<div class="main-container">
    <div class="main-content">
        <div class="row">
            <div class="col-sm-10 col-sm-offset-1">
                <div class="login-container">
                    <div class="center">
                        <h1>
                            <i class="ace-icon fa fa-leaf green"></i>
                            <span class="red">Incubator</span>
                            <span class="grey" id="id-text2">Resources</span>
                        </h1>
                    </div>

                    <div class="space-6"></div>

                    <div class="position-relative">
                        <div id="login-box" class="login-box visible widget-box no-border">
                            <div class="widget-body">
                                <div class="widget-main">
                                    <h4 class="header blue lighter bigger">
                                        <i class="ace-icon fa fa-coffee green"></i> Please Enter Your Information
                                    </h4>

                                    <div class="space-6"></div>

                                    <form class="validation-form1">
                                      <fieldset>
												                 <div class="form-group block clearfix">
        																	 <span class="block input-icon input-icon-right">
        																		 <input type="text" class="form-control" name="email" id="form-login-email" placeholder="Email"/>
                                             <i class="ace-icon fa fa-envelope"></i>
        																	 </span>
        															   </div>
												                 <div class="form-group block clearfix">
                                           <span class="block input-icon input-icon-right">
                                             <input type="password" class="form-control" name="password" id="form-login-password" placeholder="Password"/>
                                             <i class="ace-icon fa fa-envelope"></i>
                                           </span>
        															</div>
                                      <div class="space"></div>

                                      <div class="clearfix">
                                          <label class="inline">
                                              <input type="checkbox" class="ace" id="form-login-remember"/>
                                              <span class="lbl"> Remember Me</span>
                                          </label>

                                          <button type="button" class="width-35 pull-right btn btn-sm btn-primary"
                                                  id="btn-login">
                                              <i class="ace-icon fa fa-key"></i>
                                              <span class="bigger-110">Login</span>
                                          </button>
                                      </div>
                                      </fieldset>
        														</form>

                                </div>
                                <!-- /.widget-main -->

                                <div class="toolbar clearfix">
                                    <div>
                                        <a href="#" data-target="#forgot-box" data-formname="forgot" class="forgot-password-link">
                                            <i class="ace-icon fa fa-arrow-left"></i> I forgot my password
                                        </a>
                                    </div>

                                    <div>
                                        <a href="#" data-target="#signup-box" class="user-signup-link">
                                            I want to register
                                            <i class="ace-icon fa fa-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <!-- /.widget-body -->
                        </div>
                        <!-- /.login-box -->

                        <div id="forgot-box" class="forgot-box widget-box no-border">
                            <div class="widget-body">
                                <div class="widget-main">
                                    <h4 class="header red lighter bigger">
                                        <i class="ace-icon fa fa-key"></i> Retrieve Password
                                    </h4>

                                    <div class="space-6"></div>
                                    <p>
                                        Enter your email and to receive instructions
                                    </p>

                                    <form class="validation-form2">
                                        <fieldset>
                                          <div class="form-group block clearfix">
         																	 <span class="block input-icon input-icon-right">
         																		 <input type="text" class="form-control" name="email" id="form-reset-email" placeholder="Email"/>
                                              <i class="ace-icon fa fa-envelope"></i>
         																	 </span>
         															   </div>
                                            <div class="clearfix">
                                                <button type="button" class="width-35 pull-right btn btn-sm btn-danger"
                                                        id="btn-send-me">
                                                    <i class="ace-icon fa fa-lightbulb-o"></i>
                                                    <span class="bigger-110">Send Me!</span>
                                                </button>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>
                                <!-- /.widget-main -->

                                <div class="toolbar center">
                                    <a href="#" data-target="#login-box" data-formname="login" class="back-to-login-link">
                                        Back to login
                                        <i class="ace-icon fa fa-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                            <!-- /.widget-body -->
                        </div>
                        <!-- /.forgot-box -->

                        <div id="signup-box" class="signup-box widget-box no-border">
                            <div class="widget-body">
                                <div class="widget-main">
                                    <h4 class="header green lighter bigger">
                                        <i class="ace-icon fa fa-users blue"></i> New User Registration
                                    </h4>

                                    <div class="space-6"></div>
                                    <p> Enter your details to begin: </p>

                                    <form class="validation-form3">
                                        <fieldset>
                                          <div class="form-group block clearfix">
         																	 <span class="block input-icon input-icon-right">
         																		 <input type="text" class="form-control" name="email" id="form-register-email" placeholder="Email"/>
                                              <i class="ace-icon fa fa-envelope"></i>
         																	 </span>
         															   </div>

                                      <div class="form-group block clearfix">
                                        <span class="block input-icon input-icon-right">
                                          <input type="text" class="form-control" name="name" id="form-register-name" placeholder="Name"/>
                                          <i class="ace-icon fa fa-user"></i>
                                        </span>
                                   </div>
                                   <div class="form-group block clearfix">
                                     <span class="block input-icon input-icon-right">
                                       <input type="password" class="form-control" name="password" id="form-register-password" placeholder="Password"/>
                                       <i class="ace-icon fa fa-lock"></i>
                                     </span>
                                  </div>


                                  <div class="form-group block clearfix">
                                    <span class="block input-icon input-icon-right">
                                      <input type="password" class="form-control" name="password2" id="form-register-repeat-password" placeholder="Repeat password"/>
                                      <i class="ace-icon fa fa-retweet"></i>
                                    </span>
                                 </div>
                                            <label class="block">
                                                <input type="checkbox" class="ace" id="form-register-agreement"/>
                                                <span class="lbl">
															I accept the
															<a href="#">User Agreement</a>
														</span>
                                            </label>

                                            <div class="space-24"></div>

                                            <div class="clearfix">
                                                <button type="reset" class="width-30 pull-left btn btn-sm"
                                                        id="btn-reset">
                                                    <i class="ace-icon fa fa-refresh"></i>
                                                    <span class="bigger-110">Reset</span>
                                                </button>

                                                <button type="button" class="width-65 pull-right btn btn-sm btn-success"
                                                        id="btn-register">
                                                    <span class="bigger-110">Register</span>

                                                    <i class="ace-icon fa fa-arrow-right icon-on-right"></i>
                                                </button>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>

                                <div class="toolbar center">
                                    <a href="#" data-target="#login-box" data-formname="signup" class="back-to-login-link">
                                        <i class="ace-icon fa fa-arrow-left"></i> Back to login
                                    </a>
                                </div>
                            </div>
                            <!-- /.widget-body -->
                        </div>
                        <!-- /.signup-box -->
                    </div>
                    <!-- /.position-relative -->

                </div>
            </div>
            <!-- /.col -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.main-content -->
</div>
<!-- /.main-container -->

<!-- basic scripts -->

<!--[if !IE]> -->
<script src="components/jquery/dist/jquery.js"></script>
<script src="components/jquery-validation/dist/jquery.validate.js"></script>
<script src="components/jquery-validation/dist/additional-methods.js"></script>
<!-- <![endif]-->

<!--[if IE]>
<script src="components/jquery.1x/dist/jquery.js"></script>
<![endif]-->
<script type="text/javascript">
    if ('ontouchstart' in document.documentElement) document.write(
        "<script src='components/_mod/jquery.mobile.custom/jquery.mobile.custom.js'>" + "<" + "/script>");

</script>

<!-- inline scripts related to this page -->
<script type="text/javascript">
    jQuery(function ($) {
        $(document).on('click', '.toolbar a[data-target]', function (e) {
          console.log('333');
            e.preventDefault();
            var target = $(this).data('target');
            $('.widget-box.visible').removeClass('visible'); //hide others
            $(target).addClass('visible'); //show target
            console.log($(this).data('formname'));
        });
    });

    var login_email = $("#form-login-email");
    var login_password = $("#form-login-password");
    var login_remember = $("#form-login-remember");
    var reset_email = $("#form-reset-email");
    var register_email = $("#form-register-email");
    var register_name = $("#form-register-name");
    var register_password = $("#form-register-password");
    var register_repeat_password = $("#form-register-repeat-password");
    var register_agreement = $("#form-register-agreement");

    $('#btn-register').click(function () {
        console.log("register");
        var data = {
            email: register_email.val(),
            password: register_password.val(),
            username: register_name.val()
        };
        $.post("/api/users", data, function (data, status) {
            alert("Data: " + JSON.stringify(data) + "\nStatus: " + status);
        });
    });

    $('#btn-reset').click(function () {
        console.log("reset");
        register_email.val("");
        register_name.val("");
        register_password.val("");
        register_repeat_password.val("");
        register_agreement.val("");
    });

    $('#btn-login').click(function () {
        console.log("login");
        var data = {
            email: login_email.val(),
            password: login_password.val(),
            ttl: 1209600000
        };
        $.post("/login", data, function (data, status) {
            alert("Data: " + JSON.stringify(data) + "\nStatus: " + status);
            if (status.code == 'success') {
//                data.ids
//                ace.storage.set(key, value);
//                ace.storage.get(key);
//                ace.storage.remove(key);
                ace.storage.set("access_token", data.id);
                window.location("/");
            }
        });
    });

    $('#btn-send-me').click(function () {
        console.log("send me");
        reset_email.val("");
    });
    $('.validation-form1').validate({
      errorElement: 'div',
      errorClass: 'help-block',
      focusInvalid: false,
      ignore: "",
      rules: {
        email: {
          required: true,
          email:true
        },
        password: {
          required: true,
          minlength: 3
        },
        password2: {
          required: true,
          minlength: 3,
          equalTo: "#password"
        },
        name: {
          required: true
        },
        phone: {
          required: true,
          phone: 'required'
        },
        url: {
          required: true,
          url: true
        },
        comment: {
          required: true
        },
        state: {
          required: true
        },
        platform: {
          required: true
        },
        subscription: {
          required: true
        },
        gender: {
          required: true,
        },
        agree: {
          required: true,
        }
      },

      messages: {
        email: {
          required: "Please provide a valid email.",
          email: "Please provide a valid email."
        },
        password: {
          required: "Please specify a password.",
          minlength: "Please specify a secure password (min length: 3)."
        },
        state: "Please choose state",
        subscription: "Please choose at least one option",
        gender: "Please choose gender",
        agree: "Please accept our policy"
      },


      highlight: function (e) {
        $(e).closest('.form-group').removeClass('has-info').addClass('has-error');
      },

      success: function (e) {
        $(e).closest('.form-group').removeClass('has-error');//.addClass('has-info');
        $(e).remove();
      },

      errorPlacement: function (error, element) {
        if(element.is('input[type=checkbox]') || element.is('input[type=radio]')) {
          var controls = element.closest('div[class*="col-"]');
          if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
          else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
        }
        else if(element.is('.select2')) {
          error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
        }
        else if(element.is('.chosen-select')) {
          error.insertAfter(element.siblings('[class*="chosen-container"]:eq(0)'));
        }
        else error.insertAfter(element.parent());
      },

      submitHandler: function (form) {
      },
      invalidHandler: function (form) {
      }
    });
    $('.validation-form2').validate({
      errorElement: 'div',
      errorClass: 'help-block',
      focusInvalid: false,
      ignore: "",
      rules: {
        email: {
          required: true,
          email:true
        },
        password: {
          required: true,
          minlength: 3
        },
        password2: {
          required: true,
          minlength: 3,
          equalTo: "#password"
        },
        name: {
          required: true
        },
        phone: {
          required: true,
          phone: 'required'
        },
        url: {
          required: true,
          url: true
        },
        comment: {
          required: true
        },
        state: {
          required: true
        },
        platform: {
          required: true
        },
        subscription: {
          required: true
        },
        gender: {
          required: true,
        },
        agree: {
          required: true,
        }
      },

      messages: {
        email: {
          required: "Please provide a valid email.",
          email: "Please provide a valid email."
        },
        password: {
          required: "Please specify a password.",
          minlength: "Please specify a secure password (min length: 3)."
        },
        state: "Please choose state",
        subscription: "Please choose at least one option",
        gender: "Please choose gender",
        agree: "Please accept our policy"
      },


      highlight: function (e) {
        $(e).closest('.form-group').removeClass('has-info').addClass('has-error');
      },

      success: function (e) {
        $(e).closest('.form-group').removeClass('has-error');//.addClass('has-info');
        $(e).remove();
      },

      errorPlacement: function (error, element) {
        if(element.is('input[type=checkbox]') || element.is('input[type=radio]')) {
          var controls = element.closest('div[class*="col-"]');
          if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
          else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
        }
        else if(element.is('.select2')) {
          error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
        }
        else if(element.is('.chosen-select')) {
          error.insertAfter(element.siblings('[class*="chosen-container"]:eq(0)'));
        }
        else error.insertAfter(element.parent());
      },

      submitHandler: function (form) {
      },
      invalidHandler: function (form) {
      }
    });
    $('.validation-form3').validate({
      errorElement: 'div',
      errorClass: 'help-block',
      focusInvalid: false,
      ignore: "",
      rules: {
        email: {
          required: true,
          email:true
        },
        password: {
          required: true,
          minlength: 3
        },
        password2: {
          required: true,
          minlength: 3,
          equalTo: "#password"
        },
        name: {
          required: true
        },
        phone: {
          required: true,
          phone: 'required'
        },
        url: {
          required: true,
          url: true
        },
        comment: {
          required: true
        },
        state: {
          required: true
        },
        platform: {
          required: true
        },
        subscription: {
          required: true
        },
        gender: {
          required: true,
        },
        agree: {
          required: true,
        }
      },

      messages: {
        email: {
          required: "Please provide a valid email.",
          email: "Please provide a valid email."
        },
        password: {
          required: "Please specify a password.",
          minlength: "Please specify a secure password (min length: 3)."
        },
        state: "Please choose state",
        subscription: "Please choose at least one option",
        gender: "Please choose gender",
        agree: "Please accept our policy"
      },


      highlight: function (e) {
        $(e).closest('.form-group').removeClass('has-info').addClass('has-error');
      },

      success: function (e) {
        $(e).closest('.form-group').removeClass('has-error');//.addClass('has-info');
        $(e).remove();
      },

      errorPlacement: function (error, element) {
        if(element.is('input[type=checkbox]') || element.is('input[type=radio]')) {
          var controls = element.closest('div[class*="col-"]');
          if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
          else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
        }
        else if(element.is('.select2')) {
          error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
        }
        else if(element.is('.chosen-select')) {
          error.insertAfter(element.siblings('[class*="chosen-container"]:eq(0)'));
        }
        else error.insertAfter(element.parent());
      },

      submitHandler: function (form) {
      },
      invalidHandler: function (form) {
      }
    });
</script>
</body>

</html>
